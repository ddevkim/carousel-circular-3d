---
alwaysApply: true
---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í•µì‹¬ ë„êµ¬

- **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €**: pnpm
- **ì–¸ì–´**: TypeScript
- **ë²ˆë“¤ëŸ¬**: tsup
- **ë²„ì „ ê´€ë¦¬**: Changesets
- **ì½”ë“œ í’ˆì§ˆ**: Biome (linting + formatting)

### ê°œë°œ í™˜ê²½

- **Monorepo**: pnpm workspace
- **í”„ë ˆì„ì›Œí¬**: React 18+
- **CI/CD**: GitHub Actions
- **í…ŒìŠ¤íŠ¸ ë„êµ¬**: Playground (Vite)

---

## ğŸ“¦ Monorepo êµ¬ì¡°

```
carousel-project/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ carousel-circular/          # ë°°í¬ íŒ¨í‚¤ì§€
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts           # Public API
â”‚       â”‚   â”œâ”€â”€ CarouselCircular.tsx
â”‚       â”‚   â”œâ”€â”€ types.ts
â”‚       â”‚   â”œâ”€â”€ components/
â”‚       â”‚   â”‚   â”œâ”€â”€ Carousel/      # ìºëŸ¬ì…€ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ Lightbox/      # ë¼ì´íŠ¸ë°•ìŠ¤ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â””â”€â”€ ui/            # ì¬ì‚¬ìš© UI ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚       â””â”€â”€ ProgressiveImage.tsx  # LQIP ì§€ì›
â”‚       â”‚   â”œâ”€â”€ hooks/             # 10ê°œ ì»¤ìŠ¤í…€ í›…
â”‚       â”‚   â”‚   â”œâ”€â”€ useCarouselConfig.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useCarouselRotation.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useDrag.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useAutoRotate.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useRotateToIndex.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useKeyboard.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useLightbox.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useLightboxAnimation.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useImageOrientations.ts  # ë°©í–¥ ë¶„ì„
â”‚       â”‚   â”‚   â””â”€â”€ usePerformanceMonitor.ts
â”‚       â”‚   â”œâ”€â”€ utils/             # 9ê°œ ìœ í‹¸ë¦¬í‹° íŒŒì¼
â”‚       â”‚   â”‚   â”œâ”€â”€ transformCalculator.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ itemMetadataCalculator.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ itemStyleCalculator.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ itemContentRenderer.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ orientationCalculator.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ rotationAnimation.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ easingAnimation.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ lightboxUtils.ts
â”‚       â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚       â”‚   â”œâ”€â”€ constants/         # 8ê°œ ìƒìˆ˜ íŒŒì¼
â”‚       â”‚   â”‚   â”œâ”€â”€ defaults.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ animation.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ drag.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ keyboard.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ lightbox.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ perspective.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ conversion.ts
â”‚       â”‚   â”‚   â””â”€â”€ index.ts
â”‚       â”‚   â””â”€â”€ styles/
â”‚       â”‚       â””â”€â”€ index.css
â”‚       â”œâ”€â”€ documents/
â”‚       â”‚   â”œâ”€â”€ PROJECT.mdc        # ì´ ë¬¸ì„œ
â”‚       â”‚   â”œâ”€â”€ LQIP_FEATURE.md    # LQIP ê°€ì´ë“œ
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â””â”€â”€ tsup.config.ts
â”‚
â”œâ”€â”€ playground/                     # ê°œë°œ í…ŒìŠ¤íŠ¸ í™˜ê²½
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx               # ì•¨ë²” ì„ íƒê¸° (9ê°œ ì•¨ë²”)
â”‚   â”‚   â”œâ”€â”€ examples/             # 4ê°€ì§€ ì˜ˆì œ
â”‚   â”‚   â”‚   â”œâ”€â”€ BasicExample.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AutoRotateExample.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LightboxExample.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CustomContentExample.tsx
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â””â”€â”€ albumHelper.ts    # LQIP í†µí•© ì•¨ë²” ìƒì„±
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ bali-lqip.json        # LQIP ë°ì´í„° (ê° ì•¨ë²”ë³„)
â”‚   â”‚   â””â”€â”€ ... (9ê°œ ì•¨ë²”)
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ scripts/                        # LQIP ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ generate-lqip.sh
â”‚   â””â”€â”€ generate-lqip-batch.sh
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml                # Lint + Build
â”‚       â””â”€â”€ publish.yml           # NPM ìë™ ë°°í¬
â”‚
â”œâ”€â”€ package.json                   # Root workspace
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ tsconfig.base.json
â”œâ”€â”€ biome.json
â””â”€â”€ .changeset/                   # Version ê´€ë¦¬
```

---

## ğŸ”§ ê°œë°œ ë°©ë²•ë¡ 

### íŒ¨í‚¤ì§€ ë²„ì „ ê´€ë¦¬

- `package.json`ì— ë²„ì „ ëª…ì‹œ ê¸ˆì§€
- í•­ìƒ `pnpm add <package>` ë¡œ ìµœì‹  ë²„ì „ ì„¤ì¹˜
- Changesetsë¡œ ì‹œë§¨í‹± ë²„ì €ë‹ ìë™í™”

### ë²ˆë“¤ë§ ì „ëµ

- `tsup`ìœ¼ë¡œ ESM + CJS ë™ì‹œ ì¶œë ¥
- `react`, `react-dom`ì„ externalë¡œ ì²˜ë¦¬ (peerDependencies)
- Tree-shaking ìµœì í™”
- Next.js í˜¸í™˜ì„±: `"use client"` ë°°ë„ˆ ìë™ ì¶”ê°€

### ìŠ¤íƒ€ì¼ë§ ì² í•™

- **ìµœì†Œ ê°•ì œ**: í•„ìˆ˜ 3D transform ìŠ¤íƒ€ì¼ë§Œ ì¸ë¼ì¸
- **className ê¸°ë°˜**: ì†Œë¹„ìê°€ ììœ ë¡­ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì—†ìŒ**: ë ˆì´ì•„ì›ƒ/ìƒ‰ìƒ/í…Œë§ˆ ê°•ì œ ê¸ˆì§€

---

## ğŸ“ ì»´í¬ë„ŒíŠ¸ API ì„¤ê³„

### Props Interface

```typescript
interface CarouselCircularProps {
  // ========== í•„ìˆ˜ ==========
  items: CarouselItem[]; // ìµœëŒ€ 30ê°œ ê¶Œì¥ (ì´ˆê³¼ ì‹œ ìë™ slice + warning)

  // ========== 3D ê¸°í•˜í•™ ==========
  geometry?: GeometryConfig; // radius, perspective, cameraAngle, depthIntensity

  // ========== ìƒí˜¸ì‘ìš© ==========
  interaction?: InteractionConfig; // dragSensitivity, enableMomentum, momentumFriction
  autoRotateConfig?: AutoRotateConfig; // enabled, speed, resumeDelay

  // ========== ì‹œê° íš¨ê³¼ ==========
  visualEffect?: VisualEffectConfig; // opacityRange, scaleRange

  // ========== ìŠ¤íƒ€ì¼ë§ ==========
  style?: StyleConfig; // className, itemClassName
  containerHeight?: number; // ì»¨í…Œì´ë„ˆ ë†’ì´ (ê¸°ë³¸: 600px)

  // ========== Lightbox ==========
  enableLightboxWhenClick?: boolean; // í´ë¦­ ì‹œ ë¼ì´íŠ¸ë°•ìŠ¤ í™œì„±í™” (ê¸°ë³¸: false)
  lightboxOptions?: LightboxOptions; // ë¼ì´íŠ¸ë°•ìŠ¤ ì˜µì…˜

  // ========== ì¸í„°ë™ì…˜ ==========
  onItemClick?: (item: CarouselItem, index: number) => void;

  // ========== ì ‘ê·¼ì„± ==========
  ariaLabel?: string; // ì»¨í…Œì´ë„ˆ aria-label (ê¸°ë³¸: "Circular Carousel")
}

/**
 * 3D ê¸°í•˜í•™ì  êµ¬ì¡° ì„¤ì •
 */
interface GeometryConfig {
  radius?: number; // ì›í˜• ë°°ì¹˜ ë°˜ì§€ë¦„ (ê¸°ë³¸: 600px)
  perspective?: number; // ì›ê·¼ íš¨ê³¼ ê¹Šì´ (ê¸°ë³¸: radius * 3.33, ìµœì†Œ: radius * 2)
  cameraAngle?: number; // ì¹´ë©”ë¼ ìœ„ì•„ë˜ ê°ë„ (ê¸°ë³¸: 0, ë²”ìœ„: 0~15, ì¶”ì²œ: 8~12)
  depthIntensity?: number; // Zì¶• ê¹Šì´ ë³€ë™ ê°•ë„ (ê¸°ë³¸: 0, ë²”ìœ„: 0-3, ì¶”ì²œ: 1.0-2.0)
}

/**
 * ë“œë˜ê·¸ ë° ê´€ì„± ìƒí˜¸ì‘ìš© ì„¤ì •
 */
interface InteractionConfig {
  dragSensitivity?: number; // ë“œë˜ê·¸ ë¯¼ê°ë„ ë°°ìœ¨ (ê¸°ë³¸: 1.0)
  enableMomentum?: boolean; // ê´€ì„± íš¨ê³¼ í™œì„±í™” (ê¸°ë³¸: true)
  momentumFriction?: number; // ê´€ì„± ë§ˆì°° ê³„ìˆ˜ (ê¸°ë³¸: 0.95)
}

/**
 * ìë™ íšŒì „ ì„¤ì •
 */
interface AutoRotateConfig {
  enabled?: boolean; // ìë™ íšŒì „ í™œì„±í™” (ê¸°ë³¸: false)
  speed?: number; // íšŒì „ ì†ë„ deg/frame (ê¸°ë³¸: 0.1)
  resumeDelay?: number; // ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„ ì¬ê°œ ë”œë ˆì´ (ê¸°ë³¸: 3000ms)
}

/**
 * ì‹œê°ì  íš¨ê³¼ ì„¤ì •
 */
interface VisualEffectConfig {
  opacityRange?: [number, number]; // [min, max] (ê¸°ë³¸: [0.3, 1.0])
  scaleRange?: [number, number]; // [min, max] (ê¸°ë³¸: [0.7, 1.0])
}

/**
 * Lightbox ì˜µì…˜ ì„¤ì •
 */
interface LightboxOptions {
  enableKeyboardNavigation?: boolean; // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ (ê¸°ë³¸: true)
  closeOnEsc?: boolean; // ESCë¡œ ë‹«ê¸° (ê¸°ë³¸: true)
  backgroundBlur?: number; // ë°°ê²½ blur ê°•ë„ (ê¸°ë³¸: 8px)
  animationDuration?: number; // ì• ë‹ˆë©”ì´ì…˜ ì§€ì† ì‹œê°„ (ê¸°ë³¸: 500ms)
}

/**
 * CarouselItem: content ë˜ëŠ” image ì¤‘ í•˜ë‚˜ëŠ” í•„ìˆ˜
 * contentê°€ ì œê³µë˜ë©´ imageëŠ” ë¬´ì‹œë¨
 */
type CarouselItem = CarouselItemWithContent | CarouselItemWithImage;

interface CarouselItemBase {
  id: string | number; // ê³ ìœ  ì‹ë³„ì
  alt?: string; // ì´ë¯¸ì§€ alt text ë˜ëŠ” aria-label
  title?: string; // ì•„ì´í…œ ì œëª©
  [key: string]: any; // ì¶”ê°€ ë©”íƒ€ë°ì´í„°
}

interface CarouselItemWithContent extends CarouselItemBase {
  content: React.ReactNode; // ì»¤ìŠ¤í…€ ì½˜í…ì¸  (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
  image?: never; // imageì™€ ë°°íƒ€ì 
}

interface CarouselItemWithImage extends CarouselItemBase {
  image: string; // ì´ë¯¸ì§€ URL
  lqip?: LQIPInfo; // LQIP ì •ë³´ (ì„ íƒì ) â­
  content?: never; // contentì™€ ë°°íƒ€ì 
}

/**
 * LQIP (Low Quality Image Placeholder) ì •ë³´ â­
 */
interface LQIPInfo {
  base64: string; // LQIP ì´ë¯¸ì§€ base64 ì¸ì½”ë”© ë¬¸ìì—´
  width: number; // LQIP ì›ë³¸ ë„ˆë¹„ (px)
  height: number; // LQIP ì›ë³¸ ë†’ì´ (px)
}

/**
 * ì´ë¯¸ì§€ ë°©í–¥ íƒ€ì… â­
 */
type ImageOrientation = 'square' | 'portrait' | 'landscape';
```

---

## ğŸ†• LQIP (Low Quality Image Placeholder) ê¸°ëŠ¥

### ê°œìš”

LQIPëŠ” ê³ í™”ì§ˆ ì´ë¯¸ì§€ ë¡œë”© ì „ì— ê·¹ì €ìš©ëŸ‰ì˜ ë¸”ëŸ¬ ì²˜ë¦¬ëœ ì´ë¯¸ì§€ë¥¼ ë¨¼ì € í‘œì‹œí•˜ì—¬ **ì¦‰ê°ì ì¸ ë Œë”ë§**ê³¼ **ë¶€ë“œëŸ¬ìš´ ì „í™˜**ì„ ì œê³µí•˜ëŠ” Progressive Image Loading ê¸°ë²•ì…ë‹ˆë‹¤.

### ì£¼ìš” ì´ì 

1. **ì¦‰ì‹œ ë Œë”ë§**: ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì—†ì´ LQIP ì •ë³´ë§Œìœ¼ë¡œ orientation ê³„ì‚° â†’ 0ms ëŒ€ê¸°
2. **Luxury ì „í™˜**: Blur â†’ Fade-in ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ì ê²½í—˜
3. **ë„¤íŠ¸ì›Œí¬ ìµœì í™”**: base64 ì¸ë¼ì¸ìœ¼ë¡œ ì¶”ê°€ HTTP ìš”ì²­ ì—†ìŒ
4. **í›„ë°© í˜¸í™˜ì„±**: LQIP ì„ íƒì  ì œê³µ, ì—†ì–´ë„ ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ë™ì‘

### ì‚¬ìš© ì˜ˆì œ

```typescript
// LQIP í¬í•¨
const items = [
  {
    id: 1,
    image: 'https://example.com/image.jpg',
    lqip: {
      base64: 'data:image/webp;base64,UklGRlYAAAB...',
      width: 20,
      height: 13,
    },
    alt: 'Beautiful landscape',
  },
];

<CarouselCircular items={items} />;
```

### LQIP ìƒì„± ë°©ë²•

#### 1. ë‹¨ì¼ ì´ë¯¸ì§€ ìƒì„±

```bash
# /scripts/generate-lqip.sh ì‚¬ìš©
./scripts/generate-lqip.sh input.jpg output-lqip.webp

# ê²°ê³¼: output-lqip.webp (20px ë„ˆë¹„, WebP, í’ˆì§ˆ 10)
```

#### 2. ë°°ì¹˜ ìƒì„± (ì¶”ì²œ)

```bash
# /scripts/generate-lqip-batch.sh ì‚¬ìš©
./scripts/generate-lqip-batch.sh /path/to/images output.json

# ê²°ê³¼: output.json
# {
#   "image1.jpg": {
#     "base64": "data:image/webp;base64,...",
#     "width": 20,
#     "height": 13
#   },
#   ...
# }
```

#### 3. Playground í†µí•© ì˜ˆì‹œ

```typescript
// playground/utils/albumHelper.ts
async function createAlbumItems(albumName: string): Promise<CarouselItem[]> {
  // 1. LQIP ë°ì´í„° ë¡œë“œ
  const lqipData = await fetch(`/${albumName}-lqip.json`).then((r) =>
    r.json()
  );

  // 2. ì´ë¯¸ì§€ URL ìƒì„±
  const items = Array.from({ length: 20 }, (_, i) => {
    const imagePath = `${albumName}/${i + 1}-lqip.webp`;
    return {
      id: `${albumName}-${i + 1}`,
      image: `https://r2.example.com/${albumName}/${i + 1}.jpg`,
      lqip: lqipData[imagePath], // LQIP ì—°ê²°
      alt: `${albumName} photo ${i + 1}`,
    };
  });

  return items;
}
```

### êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

#### ProgressiveImage ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/ui/ProgressiveImage.tsx
function ProgressiveImage({ src, lqip, alt }: Props) {
  // 1. LQIP ë¨¼ì € í‘œì‹œ (blur íš¨ê³¼)
  // 2. ê³ í™”ì§ˆ ì´ë¯¸ì§€ ë¡œë“œ ì™„ë£Œ í™•ì¸
  // 3. ìµœì†Œ 300ms LQIP í‘œì‹œ ë³´ì¥ (ë„ˆë¬´ ë¹ ë¥¸ ì „í™˜ ë°©ì§€)
  // 4. 600ms fade-in ì• ë‹ˆë©”ì´ì…˜
  // 5. GPU ê°€ì† (will-change, transform)
}
```

#### ì¦‰ì‹œ Orientation ê³„ì‚°

```typescript
// hooks/useImageOrientations.ts
function useImageOrientations(items: CarouselItem[]) {
  // LQIPê°€ ìˆëŠ” ê²½ìš°
  if (item.lqip) {
    const aspectRatio = lqip.width / lqip.height;
    orientation = determineOrientation(aspectRatio); // ì¦‰ì‹œ ê³„ì‚°
  }
  // LQIPê°€ ì—†ëŠ” ê²½ìš°
  else {
    const img = new Image();
    img.onload = () => {
      /* ë¹„ë™ê¸° ê³„ì‚° */
    };
    img.src = item.image;
  }
}
```

### ì„±ëŠ¥ ë¹„êµ

| ì§€í‘œ                     | LQIP ì—†ìŒ        | LQIP ìˆìŒ (â­) |
| ------------------------ | ---------------- | -------------- |
| ì´ˆê¸° ë Œë”ë§ ëŒ€ê¸° ì‹œê°„    | ~2000ms          | 0ms            |
| "Loading images..." í‘œì‹œ | ìˆìŒ             | ì—†ìŒ           |
| ì¶”ê°€ HTTP ìš”ì²­           | 0                | 0 (ì¸ë¼ì¸)     |
| ì‚¬ìš©ì ì²´ê° í’ˆì§ˆ         | ê°‘ì‘ìŠ¤ëŸ¬ìš´ í‘œì‹œ  | ë¶€ë“œëŸ¬ìš´ ì „í™˜  |
| ë²ˆë“¤ í¬ê¸° ì¦ê°€           | -                | ~50 bytes/item |

### ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

1. **LQIP í¬ê¸°**: 20px ë„ˆë¹„ ê¶Œì¥ (ì¶©ë¶„í•œ ë¸”ëŸ¬ íš¨ê³¼ + ìµœì†Œ ìš©ëŸ‰)
2. **í¬ë§·**: WebP ê¶Œì¥ (JPEG ëŒ€ë¹„ ~30% ì‘ìŒ)
3. **í’ˆì§ˆ**: 10-20 ê¶Œì¥ (ë¸”ëŸ¬ ì²˜ë¦¬ë˜ë¯€ë¡œ ë‚®ì•„ë„ ë¬´ë°©)
4. **Aspect Ratio ìœ ì§€**: ì›ë³¸ ë¹„ìœ¨ ì •í™•íˆ ìœ ì§€ (orientation ê³„ì‚°ìš©)
5. **ë°°ì¹˜ ìƒì„±**: í”„ë¡œì íŠ¸ ì „ì²´ ì´ë¯¸ì§€ë¥¼ í•œ ë²ˆì— ìƒì„± í›„ JSON ê´€ë¦¬

### íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**Q: LQIPê°€ ìˆëŠ”ë°ë„ "Loading images..." í‘œì‹œë¨**
A: `lqip.base64`ê°€ ìœ íš¨í•œ data URLì¸ì§€ í™•ì¸ (`data:image/webp;base64,...` í˜•ì‹)

**Q: Orientationì´ ì˜ëª» ê³„ì‚°ë¨**
A: `lqip.width`ì™€ `lqip.height`ê°€ ì›ë³¸ ë¹„ìœ¨ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

**Q: LQIP ì „í™˜ì´ ë„ˆë¬´ ë¹ ë¦„**
A: `MIN_LQIP_DISPLAY_DURATION` (300ms) ë³´ì¥ë¨, ì˜ë„ëœ ë™ì‘

---

## ğŸ–¼ ë™ì  ì•„ì´í…œ í¬ê¸° ë° ë°©í–¥ ì²˜ë¦¬

### ê°œìš”

ê° ì´ë¯¸ì§€ì˜ ë¹„ìœ¨ì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ **ë°©í–¥(Orientation)**ì„ ê²°ì •í•˜ê³ , `containerHeight` ê¸°ì¤€ìœ¼ë¡œ **ë™ì  í¬ê¸°**ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

### ë°©í–¥ ê²°ì • ë¡œì§

```typescript
// utils/orientationCalculator.ts
function determineOrientation(aspectRatio: number): ImageOrientation {
  if (aspectRatio >= 0.95 && aspectRatio <= 1.05) return 'square'; // ì •ì‚¬ê°í˜•
  if (aspectRatio < 0.95) return 'portrait'; // ì„¸ë¡œ
  return 'landscape'; // ê°€ë¡œ
}
```

### ë™ì  í¬ê¸° ê³„ì‚°

```typescript
// utils/itemMetadataCalculator.ts
function calculateItemSize(
  orientation: ImageOrientation,
  containerHeight: number
): { width: number; height: number } {
  switch (orientation) {
    case 'square':
      return {
        height: containerHeight * 0.6, // 60%
        width: containerHeight * 0.6,
      };
    case 'portrait':
      return {
        height: containerHeight * 0.6, // 60%
        width: containerHeight * 0.5, // 50% (ë” ì¢ê²Œ)
      };
    case 'landscape':
      return {
        height: containerHeight * 0.6, // 60%
        width: containerHeight * 0.7, // 70% (ë” ë„“ê²Œ)
      };
  }
}
```

### Props ë³€ê²½

```typescript
// ì´ì „ ë°©ì‹ (ê³ ì • í¬ê¸°)
interface CarouselCircularProps {
  itemSize: { width: 300; height: 400 }; // í•„ìˆ˜
}

// í˜„ì¬ ë°©ì‹ (ë™ì  í¬ê¸°) â­
interface CarouselCircularProps {
  containerHeight?: number; // ê¸°ë³¸: 600px, ì„ íƒì 
  // â†’ í¬ê¸°ëŠ” ìë™ ê³„ì‚°
}
```

### ë™ì  ê°ë„ ê³„ì‚°

ê° ì•„ì´í…œì˜ ë„ˆë¹„ì— ë”°ë¼ ì°¨ì§€í•˜ëŠ” ê°ë„ë„ ë™ì ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤:

```typescript
// ê° ì•„ì´í…œì´ ì°¨ì§€í•˜ëŠ” ê°ë„ = (ì•„ì´í…œ ë„ˆë¹„ / ì›ì˜ ë‘˜ë ˆ) * 360ë„
angle = (width / (2 * Math.PI * radius)) * 360;

// ì˜ˆì‹œ:
// - radius: 600px â†’ ë‘˜ë ˆ: 3769px
// - portrait (300px): 28.6ë„
// - square (360px): 34.3ë„
// - landscape (420px): 40.1ë„
```

### ê²°ê³¼

- **ìµœì í™”ëœ ë ˆì´ì•„ì›ƒ**: ê° ì´ë¯¸ì§€ê°€ ìì‹ ì˜ ë¹„ìœ¨ì— ë§ëŠ” í¬ê¸°ë¡œ í‘œì‹œ
- **ì¼ê´€ëœ ë†’ì´**: ëª¨ë“  ì•„ì´í…œì´ ë™ì¼í•œ ë†’ì´ ìœ ì§€ (ì‹œê°ì  ê· í˜•)
- **Zero Config**: ê°œë°œìê°€ í¬ê¸°ë¥¼ ì§€ì •í•  í•„ìš” ì—†ìŒ

---

## ğŸ§® í•µì‹¬ ë¡œì§: 3D ìœ„ì¹˜ ë° ì‹œê° íš¨ê³¼ ê³„ì‚°

### ì˜ì‚¬ ì½”ë“œ (Pseudocode)

```
í•¨ìˆ˜: calculateItemTransform(itemIndex, currentRotation, totalItems, radius, opacityRange, scaleRange, depthIntensity, cameraAngle)
  ì…ë ¥:
    - itemIndex: ì•„ì´í…œ ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘, index 0ì´ ì´ˆê¸° ì¤‘ì•™)
    - currentRotation: í˜„ì¬ carousel íšŒì „ ê°ë„ (degree, ì–‘ìˆ˜ = ì‹œê³„ë°©í–¥)
    - totalItems: ì „ì²´ ì•„ì´í…œ ìˆ˜
    - radius: ì›ì˜ ë°˜ì§€ë¦„ (px)
    - opacityRange, scaleRange: ì‹œê° íš¨ê³¼ ë²”ìœ„
    - depthIntensity: Zì¶• ê¹Šì´ ë³€ë™ ê°•ë„ (0-3)
    - cameraAngle: ì¹´ë©”ë¼ ìœ„ì•„ë˜ ê°ë„ (0-30)

  ê³„ì‚°:
    anglePerItem = 360 / totalItems
    itemAngle = itemIndex * anglePerItem

    // ì •ê·œí™”ëœ ê°ë„ ê³„ì‚° (0-360 ë²”ìœ„)
    totalRotation = currentRotation % 360
    relativeAngle = (itemAngle + totalRotation + 360) % 360

    // ì ˆëŒ€ ê°ë„ ê³„ì‚° (0-180 ë²”ìœ„ë¡œ ì •ê·œí™”)
    // 180ë„ ì´ìƒì´ë©´ 360ì—ì„œ ë¹¼ì„œ ê±°ìš¸ ëŒ€ì¹­
    normalizedAngle = abs(relativeAngle > 180 ? 360 - relativeAngle : relativeAngle)

    // Zì¶• ê¹Šì´ ê³„ì‚° (depthIntensity ì ìš©)
    depthOffset = calculateDepthOffset(itemAngle, currentRotation, depthIntensity, radius)

    // ì¹´ë©”ë¼ ê°ë„ ì ìš©
    cameraTransform = cameraAngle > 0 ? `rotateX(${cameraAngle}deg)` : ''

  ì¶œë ¥:
    {
      transform: `${cameraTransform} rotateY(${itemAngle}deg) translateZ(${radiusInRem + depthOffset}rem)`,
      opacity: calculateOpacity(normalizedAngle, opacityRange),
      scale: calculateScale(normalizedAngle, scaleRange),
      zIndex: calculateZIndex(itemAngle, currentRotation)
    }

í•¨ìˆ˜: calculateDepthOffset(itemAngle, currentRotation, depthIntensity, radius)
  // Zì¶• ê±°ë¦¬ ë³€ë™ìœ¼ë¡œ 3D ê¹Šì´ê° ê°•ì¡°
  radian = (itemAngle - currentRotation) * (PI / 180)
  depthVariation = cos(radian) * depthIntensity  // -depthIntensity ~ +depthIntensity
  depthOffsetInRem = pxToRem(depthVariation * radius * 0.1)  // radiusì˜ ìµœëŒ€ 10% ë³€ë™

  ë°˜í™˜: depthOffsetInRem

í•¨ìˆ˜: calculateOpacity(normalizedAngle, opacityRange)
  // normalizedAngle: 0-180 ë²”ìœ„
  // opacityRange: [min, max] ì˜ˆ: [0.3, 1]

  ratio = normalizedAngle / 180
  opacity = max(opacityRange[0], opacityRange[1] - (ratio * (opacityRange[1] - opacityRange[0])))

  ë°˜í™˜: opacity

í•¨ìˆ˜: calculateScale(normalizedAngle, scaleRange)
  // scaleRange: [min, max] ì˜ˆ: [0.7, 1]

  ratio = normalizedAngle / 180
  scale = max(scaleRange[0], scaleRange[1] - (ratio * (scaleRange[1] - scaleRange[0])))

  ë°˜í™˜: scale

í•¨ìˆ˜: calculateZIndex(itemAngle, currentRotation)
  // Zì¶• ê±°ë¦¬ ê¸°ë°˜ z-index ê³„ì‚° (-100 ~ 100 ë²”ìœ„ë¡œ ì •ê·œí™”)
  radian = (itemAngle - currentRotation) * (PI / 180)
  z = cos(radian) * 100  // -100 ~ 100 ë²”ìœ„

  ë°˜í™˜: round(z)

í•¨ìˆ˜: pxToRem(px)
  // 1rem = 16px ê¸°ì¤€
  ë°˜í™˜: px / 16
```

### í•µì‹¬ ì›ë¦¬

1. **ì›í˜• ë°°ì¹˜**: `rotateY(angle) + translateZ(radius)`ë¡œ ì›ì£¼ ìƒì— ì•„ì´í…œ ë°°ì¹˜
2. **ê°ë„ ì •ê·œí™”**: íšŒì „ ê°ë„ë¥¼ 0-180 ë²”ìœ„ë¡œ ì •ê·œí™”í•˜ì—¬ ì•/ë’¤ ëŒ€ì¹­ ì²˜ë¦¬
3. **ê±°ë¦¬ ê¸°ë°˜ íš¨ê³¼**: ì •ê·œí™”ëœ ê°ë„ë¡œ opacity/scale ì„ í˜• ë³´ê°„
4. **ì •ê·œí™”ëœ z-index**: -100 ~ 100 ë²”ìœ„ë¡œ ì œí•œí•˜ì—¬ CSS í˜¸í™˜ì„± ë³´ì¥
5. **Zì¶• ê¹Šì´ ë³€ë™**: depthIntensityë¡œ ì•ë’¤ ì•„ì´í…œ ê°„ ê±°ë¦¬ê° ê°•ì¡°
6. **ì¹´ë©”ë¼ ê°ë„**: rotateXë¡œ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ë‹¤ë³´ëŠ” ì‹œì  ì œê³µ
7. **rem ë‹¨ìœ„**: px propsë¥¼ ë°›ì•„ ë‚´ë¶€ì ìœ¼ë¡œ remìœ¼ë¡œ ë³€í™˜ (1rem = 16px)

---

## ğŸ–± ë“œë˜ê·¸ í•¸ë“¤ëŸ¬ êµ¬í˜„ ì „ëµ

### ì˜ì‚¬ ì½”ë“œ

```
ìƒìˆ˜:
  - MOMENTUM_START_THRESHOLD = 0.5      // ê´€ì„± ì‹œì‘ ìµœì†Œ ì†ë„
  - MOMENTUM_STOP_THRESHOLD = 0.01      // ê´€ì„± ì¢…ë£Œ ì†ë„
  - DRAG_START_DISTANCE = 5             // í´ë¦­ê³¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ìµœì†Œ ì´ë™ ê±°ë¦¬ (px)

ìƒíƒœ:
  - rotation: í˜„ì¬ íšŒì „ ê°ë„ (degree)
  - isDragging: ë“œë˜ê·¸ ì¤‘ ì—¬ë¶€
  - dragStartX: ë“œë˜ê·¸ ì‹œì‘ X ì¢Œí‘œ
  - lastRotation: ë“œë˜ê·¸ ì‹œì‘ ì‹œ íšŒì „ ê°ë„
  - velocity: í˜„ì¬ ì†ë„ (degree/frame)
  - momentumAnimationId: ê´€ì„± ì• ë‹ˆë©”ì´ì…˜ requestAnimationFrame ID
  - autoRotateTimeoutId: ìë™ íšŒì „ ì¬ê°œ íƒ€ì´ë¨¸ ID

í•¨ìˆ˜: onMouseEnter()
  if (autoRotate.enabled):
    ìë™íšŒì „ ì¼ì‹œì •ì§€

í•¨ìˆ˜: onMouseLeave()
  if (autoRotate.enabled && !isDragging && !isMomentumActive):
    autoRotateTimeoutId = setTimeout(() => {
      ìë™íšŒì „ ì¬ê°œ
    }, autoRotate.resumeDelay)  // ê¸°ë³¸ 3000ms

í•¨ìˆ˜: onDragStart(event)
  // ê´€ì„± ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì´ë©´ ì¦‰ì‹œ ì¤‘ë‹¨
  if (momentumAnimationId):
    cancelAnimationFrame(momentumAnimationId)
    momentumAnimationId = null

  // ë©€í‹°í„°ì¹˜ëŠ” ì²« ë²ˆì§¸ë§Œ ì¶”ì 
  dragStartX = event.clientX ë˜ëŠ” event.touches[0].clientX
  lastRotation = rotation
  velocity = 0
  isDragging = true

í•¨ìˆ˜: onDragMove(event)
  if (!isDragging): ë°˜í™˜

  // ë©€í‹°í„°ì¹˜ëŠ” ì²« ë²ˆì§¸ë§Œ ì¶”ì 
  currentX = event.clientX ë˜ëŠ” event.touches[0].clientX
  deltaX = currentX - dragStartX

  // ìµœì†Œ ì´ë™ ê±°ë¦¬ í™•ì¸ (í´ë¦­ ì˜¤ë™ì‘ ë°©ì§€)
  if (abs(deltaX) < DRAG_START_DISTANCE && !hasMoved):
    ë°˜í™˜

  hasMoved = true

  // ë“œë˜ê·¸ ê±°ë¦¬ë¥¼ íšŒì „ ê°ë„ë¡œ ë³€í™˜
  // ì›ì˜ ë‘˜ë ˆ ê¸°ì¤€: 2Ï€rë§Œí¼ ë“œë˜ê·¸ = 360ë„ íšŒì „
  circumference = 2 * PI * radius
  deltaRotation = (deltaX / circumference) * 360 * dragSensitivity
  newRotation = lastRotation + deltaRotation

  // ì†ë„ ê³„ì‚° (ê´€ì„±ìš©)
  velocity = deltaRotation - previousDeltaRotation
  previousDeltaRotation = deltaRotation

  rotation = newRotation

í•¨ìˆ˜: onDragEnd()
  isDragging = false
  hasMoved = false

  if (enableMomentum && abs(velocity) > MOMENTUM_START_THRESHOLD):
    startMomentumAnimation()
  else:
    // ê´€ì„± ì—†ì´ ì¢…ë£Œ ì‹œ ìë™ íšŒì „ ì¬ê°œ ìŠ¤ì¼€ì¤„
    if (autoRotate.enabled):
      autoRotateTimeoutId = setTimeout(() => {
        ìë™íšŒì „ ì¬ê°œ
      }, autoRotate.resumeDelay)

í•¨ìˆ˜: startMomentumAnimation()
  í•¨ìˆ˜ animateMomentum():
    rotation += velocity
    velocity *= momentumFriction  // ê¸°ë³¸: 0.95

    if (abs(velocity) < MOMENTUM_STOP_THRESHOLD):
      // ê´€ì„± ì¢…ë£Œ ì‹œ ìë™ íšŒì „ ì¬ê°œ ìŠ¤ì¼€ì¤„
      if (autoRotate.enabled):
        autoRotateTimeoutId = setTimeout(() => {
          ìë™íšŒì „ ì¬ê°œ
        }, autoRotate.resumeDelay)
      ë°˜í™˜

    momentumAnimationId = requestAnimationFrame(animateMomentum)

  momentumAnimationId = requestAnimationFrame(animateMomentum)

í•¨ìˆ˜: onKeyDown(event)
  if (event.key === 'ArrowLeft'):
    // ì´ì „ ì•„ì´í…œìœ¼ë¡œ ì´ë™ (ì‹œê³„ë°©í–¥ íšŒì „)
    rotateByDelta(-1, 'clockwise')
  else if (event.key === 'ArrowRight'):
    // ë‹¤ìŒ ì•„ì´í…œìœ¼ë¡œ ì´ë™ (ë°˜ì‹œê³„ë°©í–¥ íšŒì „)
    rotateByDelta(+1, 'counterClockwise')
```

### êµ¬í˜„ ê³ ë ¤ì‚¬í•­

- **ë§ˆìš°ìŠ¤ + í„°ì¹˜**: í†µí•© ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ì²« ë²ˆì§¸ í„°ì¹˜ë§Œ ì¶”ì )
- **ë©€í‹°í„°ì¹˜ ë°©ì§€**: `touches[0]`ë§Œ ì‚¬ìš©, í•€ì¹˜ì¤Œ preventDefault
- **ì „ì—­ ë¦¬ìŠ¤ë„ˆ**: documentì— mousemove/mouseup ë“±ë¡ (ì»´í¬ë„ŒíŠ¸ ë°– ë“œë˜ê·¸ ì¶”ì )
- **Passive listener**: touchstart/touchmoveëŠ” non-passiveë¡œ preventDefault ì§€ì›
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: useEffect cleanupì—ì„œ ëª¨ë“  ë¦¬ìŠ¤ë„ˆ ì œê±°
- **requestAnimationFrame**: ê´€ì„± ë° ìë™ íšŒì „ ëª¨ë‘ RAF ì‚¬ìš©
- **íƒ€ì´ë¨¸ ê´€ë¦¬**: autoRotateTimeoutId ì ì ˆíˆ clear

---

## ğŸ¨ ìŠ¤íƒ€ì¼ë§ ê°€ì´ë“œë¼ì¸

### ì»´í¬ë„ŒíŠ¸ê°€ ì œê³µí•˜ëŠ” ìµœì†Œ ìŠ¤íƒ€ì¼

```css
/* ì»¨í…Œì´ë„ˆ: 3D ì»¨í…ìŠ¤íŠ¸ë§Œ ì„¤ì • */
.carousel-container {
  perspective: {perspectiveInRem}rem; /* ê¸°ë³¸: radius * 3.33, ìµœì†Œ radius * 2 */
  position: relative;
  /* í¬ê¸°ëŠ” ë¶€ëª¨ì— ë§¡ê¹€ */
}

/* íšŒì „ ë˜í¼: 3D ë³€í˜• ìœ ì§€ */
.carousel-rotator {
  transform-style: preserve-3d;
  transform: rotateY({rotation}deg);
  transition: transform 0s; /* ë“œë˜ê·¸ ì‹œ ì¦‰ê° ë°˜ì‘ */
}

/* ì•„ì´í…œ: 3D ë°°ì¹˜ë§Œ ì œì–´ */
.carousel-item {
  position: absolute;
  width: {itemWidthInRem}rem;
  height: {itemHeightInRem}rem;
  transform: rotateY({itemAngle}deg) translateZ({radiusInRem}rem)
    scale({calculatedScale});
  opacity: {calculatedOpacity};
  z-index: {calculatedZIndex}; /* -100 ~ 100 ë²”ìœ„ */
  /* ë¹„ì£¼ì–¼ ìŠ¤íƒ€ì¼ì€ itemClassNameìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• */
}
```

### ì†Œë¹„ìê°€ ì œì–´í•˜ëŠ” ë¶€ë¶„

- **ì»¨í…Œì´ë„ˆ í¬ê¸°**: `className`ìœ¼ë¡œ width, height ì§€ì •
- **ì•„ì´í…œ ìŠ¤íƒ€ì¼**: `itemClassName`ìœ¼ë¡œ border, shadow, border-radius, background ë“±
- **ë°°ê²½, ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼**: ì™„ì „íˆ ììœ 
- **ë ˆì´ì•„ì›ƒ**: padding, margin ë“±
- **ë°˜ì‘í˜• breakpoint**: ë¯¸ë””ì–´ ì¿¼ë¦¬ë¡œ ììœ ë¡­ê²Œ ì¡°ì •

### rem ë³€í™˜ ê·œì¹™

- **1rem = 16px** ê¸°ì¤€
- PropsëŠ” px ë‹¨ìœ„ë¡œ ë°›ìŒ (ì§ê´€ì )
- ë‚´ë¶€ì ìœ¼ë¡œ remìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ìŠ¤íƒ€ì¼ ì ìš©
- ì˜ˆ: `radius={600}` â†’ `37.5rem`

---

## ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

### GitHub Actions ì›Œí¬í”Œë¡œìš°

#### 1. CI (`.github/workflows/ci.yml`)

**íŠ¸ë¦¬ê±°**: Push to main/develop, Pull Request
**ì‘ì—…**:

- pnpm ì„¤ì¹˜ ë° ì˜ì¡´ì„± ë³µì›
- Biome lint ì‹¤í–‰
- TypeScript íƒ€ì… ì²´í¬
- íŒ¨í‚¤ì§€ ë¹Œë“œ (tsup)

#### 2. Publish (`.github/workflows/publish.yml`)

**íŠ¸ë¦¬ê±°**: Push to main (changesets ê°ì§€)
**ì‘ì—…**:

- Changesetsê°€ ë²„ì „ ì—…ë°ì´íŠ¸ PR ìƒì„±
- PR ë¨¸ì§€ ì‹œ ìë™ìœ¼ë¡œ:
  - íŒ¨í‚¤ì§€ ë¹Œë“œ
  - NPM ë°°í¬ (`npm publish`)
  - GitHub Release ìƒì„±

### NPM Token ì„¤ì • ë°©ë²•

1. **NPMì—ì„œ Token ìƒì„±**

   - https://www.npmjs.com ë¡œê·¸ì¸
   - Profile â†’ Access Tokens â†’ Generate New Token
   - Type: **Automation** ì„ íƒ
   - Token ë³µì‚¬ (í•œ ë²ˆë§Œ í‘œì‹œë¨)

2. **GitHub Secrets ë“±ë¡**

   - Repository â†’ Settings â†’ Secrets and variables â†’ Actions
   - New repository secret
   - Name: `NPM_TOKEN`
   - Value: ë³µì‚¬í•œ Token
   - Add secret

3. **Scope ì„¤ì •**
   - NPMì—ì„œ `@ddevkim` organization ìƒì„±
   - ë˜ëŠ” ê°œì¸ scope ì‚¬ìš© (usernameì´ ìë™ìœ¼ë¡œ scope)

---

## ğŸ§ª Playground êµ¬ì„±

### ëª©ì 

- ê°œë°œ ì¤‘ ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸
- ë‹¤ì–‘í•œ props ì¡°í•© ê²€ì¦
- ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§
- **í…ŒìŠ¤íŠ¸ ì „ëµ**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìƒëµ, Playgroundë¡œ ì§ì ‘ í™•ì¸

### 9ê°œ ì•¨ë²” ì‹œìŠ¤í…œ â­

**ì§€ì› ì•¨ë²”**: bali, barbados, borabora, cadiz, cannes, hawaii, ibiza, mallorca, santorini
**ê° ì•¨ë²”**: 20ê°œ ì´ë¯¸ì§€ + LQIP ë°ì´í„° (JSON)
**í˜¸ìŠ¤íŒ…**: Cloudflare R2

**ì•¨ë²” í—¬í¼ ê¸°ëŠ¥**:

```typescript
// playground/utils/albumHelper.ts
async function createAlbumItems(albumName: string): Promise<CarouselItem[]> {
  // 1. LQIP ë°ì´í„° ë¡œë“œ
  const lqipData = await fetch(`/${albumName}-lqip.json`).then((r) =>
    r.json()
  );

  // 2. ì´ë¯¸ì§€ URL ìƒì„± + LQIP ì—°ê²°
  const items = Array.from({ length: 20 }, (_, i) => ({
    id: `${albumName}-${i + 1}`,
    image: `https://r2.example.com/${albumName}/${i + 1}.jpg`,
    lqip: lqipData[`${albumName}/${i + 1}-lqip.webp`],
    alt: `${albumName} photo ${i + 1}`,
  }));

  return items;
}

// ì‚¬ìš©
const items = await createAlbumItems('bali');
<CarouselCircular items={items} />;
```

### í¬í•¨ëœ ì˜ˆì‹œ

1. **BasicExample**: ìµœì†Œ ì„¤ì • (ì´ë¯¸ì§€ carousel)
2. **AutoRotateExample**: ìë™ íšŒì „ + ë§ˆìš°ìŠ¤ ì¸í„°ë™ì…˜ ë°ëª¨
3. **LightboxExample**: í´ë¦­ â†’ ì „ì²´í™”ë©´ í™•ëŒ€
4. **CustomContentExample**: ReactNode ì‚¬ìš© (ì¹´ë“œ, ë¹„ë””ì˜¤ ë“±)

---

## ğŸ“‹ ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: í”„ë¡œì íŠ¸ ì„¤ì •

- [x] Monorepo êµ¬ì¡° ìƒì„±
- [x] Root workspace ì„¤ì • (pnpm-workspace.yaml)
- [x] TypeScript ì„¤ì • (tsconfig.base.json)
- [x] Biome ì„¤ì •
- [x] Changesets ì´ˆê¸°í™”

### Phase 2: íŒ¨í‚¤ì§€ êµ¬í˜„

- [x] ìƒìˆ˜ ì •ì˜ (constants/) - 8ê°œ íŒŒì¼
- [x] íƒ€ì… ì •ì˜ (types.ts) - Union typeìœ¼ë¡œ ëª…ë£Œí™”
- [x] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (utils/helpers.ts) - pxToRem, ê°ë„ ê³„ì‚° ë“±
- [x] 3D ê³„ì‚° ìœ í‹¸ë¦¬í‹° (utils/transformCalculator.ts) - ì •ê·œí™”ëœ z-index
- [x] ë“œë˜ê·¸ í•¸ë“¤ëŸ¬ hook (hooks/useDrag.ts) - ê´€ì„±, ì„ê³„ê°’
- [x] ìë™ íšŒì „ hook (hooks/useAutoRotate.ts) - RAF ê¸°ë°˜
- [x] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ hook (hooks/useKeyboard.ts)
- [x] ì´ë¯¸ì§€ ë°©í–¥ ë¶„ì„ hook (hooks/useImageOrientations.ts) - LQIP ì§€ì› â­
- [x] ë¼ì´íŠ¸ë°•ìŠ¤ hook (hooks/useLightbox.ts, hooks/useLightboxAnimation.ts)
- [x] CarouselCircular ì»´í¬ë„ŒíŠ¸ - ì ‘ê·¼ì„±, SSR-safe
- [x] ProgressiveImage ì»´í¬ë„ŒíŠ¸ - LQIP ì§€ì› â­
- [x] Lightbox ì»´í¬ë„ŒíŠ¸ - ì „ì²´í™”ë©´ ì´ë¯¸ì§€ ë·°ì–´
- [x] Public API export (index.ts)

### Phase 3: Playground

- [x] Vite ì„¤ì •
- [x] ê¸°ë³¸ ì˜ˆì‹œ ì‘ì„± (4ê°œ)
- [x] ì•¨ë²” ì‹œìŠ¤í…œ í†µí•© (9ê°œ ì•¨ë²”, LQIP) â­
- [x] ë‹¤ì–‘í•œ props ì¡°í•© í…ŒìŠ¤íŠ¸

### Phase 4: ë¹Œë“œ & ë°°í¬

- [x] tsup ì„¤ì • (ESM + CJS, external ìµœì í™”, Next.js í˜¸í™˜)
- [x] package.json ë©”íƒ€ë°ì´í„° (ë²„ì „ ëª…ì‹œ ê¸ˆì§€, peerDependencies)
- [x] GitHub Actions CI ì„¤ì • (lint, type-check, build)
- [x] GitHub Actions Publish ì„¤ì • (changesets ê¸°ë°˜)
- [x] NPM Token ë“±ë¡ (@ddevkim scope)

### Phase 5: ë¬¸ì„œí™”

- [x] README.md (ì„¤ì¹˜, ì‚¬ìš©ë²•, API, SSR ê°€ì´ë“œ)
- [x] CHANGELOG.md (Changesets ìë™ ìƒì„±)
- [x] JSDoc ì£¼ì„ (ëª¨ë“  ê³µê°œ API)
- [x] ë¼ì´ì„ ìŠ¤ (MIT)
- [x] 3D_TRANSFORM_EXPLANATION.md (3D ìˆ˜í•™ ì›ë¦¬)
- [x] PERFORMANCE_OPTIMIZATION.md (ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ)
- [x] LQIP_FEATURE.md (LQIP ì™„ì „ ê°€ì´ë“œ) â­
- [x] PROJECT.mdc (í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸, ì´ ë¬¸ì„œ)

---

## ğŸš€ ë°°í¬ ì›Œí¬í”Œë¡œìš°

### ê°œë°œ â†’ ë°°í¬ í”„ë¡œì„¸ìŠ¤

```bash
# 1. ê¸°ëŠ¥ ê°œë°œ
git checkout -b feature/new-feature
# ... ì½”ë“œ ì‘ì„± ...

# 2. Changeset ìƒì„±
pnpm changeset
# - patch: ë²„ê·¸ ìˆ˜ì •
# - minor: ìƒˆ ê¸°ëŠ¥
# - major: Breaking changes

# 3. ì»¤ë°‹ & í‘¸ì‹œ
git add .
git commit -m "feat: add new feature"
git push

# 4. PR ìƒì„± & ë¨¸ì§€
# - CI ìë™ ì‹¤í–‰ (lint, build)
# - main ë¸Œëœì¹˜ ë¨¸ì§€

# 5. ìë™ ë°°í¬
# - Changesetsê°€ ë²„ì „ ì—…ë°ì´íŠ¸ PR ìƒì„±
# - PR ë¨¸ì§€ ì‹œ ìë™ìœ¼ë¡œ NPM ë°°í¬
```

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ

### ê¸°ìˆ ì  ëª©í‘œ

- [x] TypeScript íƒ€ì… ì•ˆì „ì„± 100% (strict mode)
- [x] Tree-shaking ì§€ì› (ESM)
- [x] ë²ˆë“¤ í¬ê¸° < 50KB (gzipped)
- [x] React 18+ í˜¸í™˜
- [x] Next.js SSR ì§€ì›
- [x] ìµœëŒ€ 30ê°œ ì•„ì´í…œ ì„±ëŠ¥ ë³´ì¥ (60fps)
- [x] LQIP ì§€ì›ìœ¼ë¡œ ì¦‰ì‹œ ë Œë”ë§ (0ms ëŒ€ê¸°) â­
- [x] ë™ì  ì•„ì´í…œ í¬ê¸° ê³„ì‚° (Zero Config) â­

### ì‚¬ìš©ì„± ëª©í‘œ

- [x] ì§ê´€ì ì¸ API (5ë¶„ ë‚´ í†µí•© ê°€ëŠ¥)
- [x] ëª…í™•í•œ ë¬¸ì„œí™” (SSR, LQIP ê°€ì´ë“œ í¬í•¨)
- [x] ìµœì†Œ ìŠ¤íƒ€ì¼ ê°•ì œ (3D transformë§Œ)
- [x] ë‹¤ì–‘í•œ ì‚¬ìš© ì˜ˆì‹œ ì œê³µ (Playground, 9ê°œ ì•¨ë²”)
- [x] ì ‘ê·¼ì„± ì¤€ìˆ˜ (í‚¤ë³´ë“œ, ARIA)

---

## ğŸ“š ì°¸ê³  ìë£Œ ë° ì„¤ê³„ ì›ì¹™

### êµ¬í˜„ ì‹œ ì°¸ê³ í•  í•µì‹¬ ë¡œì§

- **3D ë³€í™˜**: `rotateY()` + `translateZ()` ì¡°í•©
- **ê°ë„ ì •ê·œí™”**: 360ë„ ìˆœí™˜ â†’ 0-180 ë²”ìœ„ë¡œ ë§¤í•‘
- **ì„ í˜• ë³´ê°„**: ê±°ë¦¬ ê¸°ë°˜ opacity/scale ê³„ì‚°
- **ë“œë˜ê·¸ ì¶”ì **: ì „ì—­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ + ê´€ì„± ì• ë‹ˆë©”ì´ì…˜
- **ë¬¼ë¦¬ ê¸°ë°˜ íšŒì „**: ì›ì˜ ë‘˜ë ˆ(2Ï€r) ê¸°ì¤€ ë“œë˜ê·¸-íšŒì „ ë§¤í•‘
- **Progressive Loading**: LQIP â†’ ê³ í™”ì§ˆ ì „í™˜ (300ms + 600ms fade) â­

### ì™¸ë¶€ ì˜ì¡´ì„± ìµœì†Œí™”

- React hooksë§Œ ì‚¬ìš© (ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì–‘)
- ìˆœìˆ˜ CSS 3D transforms
- ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ API í™œìš© (requestAnimationFrame)
- peerDependencies: react, react-domë§Œ

### í•µì‹¬ ì„¤ê³„ ê²°ì • ìš”ì•½

1. **ë¬¼ë¦¬ ê¸°ë°˜**: ë“œë˜ê·¸ëŠ” ë¬¼ë¦¬ì  ì›í˜• êµ¬ì¡° ê¸°ë°˜ (ì™¸ë¶€ ì œì–´ ë¶ˆê°€)
2. **ìë™ ì¬ê°œ**: ë§ˆìš°ìŠ¤ leave/ê´€ì„± ì¢…ë£Œ í›„ 3ì´ˆ ë”œë ˆì´
3. **ë©€í‹°í„°ì¹˜**: ì²« ë²ˆì§¸ í„°ì¹˜ë§Œ ì¶”ì , í•€ì¹˜ì¤Œ ë°©ì§€
4. **ì•„ì´í…œ ì œí•œ**: 30ê°œ ì´ˆê³¼ ì‹œ slice + warning
5. **SSR-safe**: typeof window ì²´í¬, ê¸°ë³¸ê°’ ì œê³µ
6. **ì ‘ê·¼ì„± ìš°ì„ **: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ARIA ì†ì„±
7. **íƒ€ì… ì•ˆì „**: Union typeìœ¼ë¡œ content/image ë°°íƒ€ì  ì •ì˜
8. **ì„±ëŠ¥ ìµœì í™”**: requestAnimationFrame, useMemo, useCallback
9. **Zero Config**: ì´ë¯¸ì§€ ë¹„ìœ¨ ìë™ ê°ì§€, ë™ì  í¬ê¸° ê³„ì‚° â­
10. **Progressive Enhancement**: LQIPë¡œ ì ì§„ì  í’ˆì§ˆ í–¥ìƒ â­
11. **Luxury UX**: ìµœì†Œ í‘œì‹œ ì‹œê°„ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ì „í™˜ ë³´ì¥ â­

---

## ğŸ”§ ìµœê·¼ ì£¼ìš” ë³€ê²½ ì‚¬í•­ (2025-11-08 ì´í›„)

### 1. LQIP ê¸°ëŠ¥ ì¶”ê°€ (Commit: dbca220) â­

**ìƒˆë¡œìš´ íŒŒì¼**:

- `src/components/ui/ProgressiveImage.tsx` (101ì¤„)
- `documents/LQIP_FEATURE.md` (333ì¤„)
- `scripts/generate-lqip.sh`
- `scripts/generate-lqip-batch.sh`

**ìˆ˜ì •ëœ íŒŒì¼**:

- `src/types.ts`: `LQIPInfo` ì¸í„°í˜ì´ìŠ¤, `CarouselItemWithImage.lqip` í•„ë“œ
- `src/hooks/useImageOrientations.ts`: LQIP ê¸°ë°˜ ì¦‰ì‹œ ê³„ì‚°
- `src/utils/itemContentRenderer.ts`: LQIP ê°ì§€ ë° ProgressiveImage ì ìš©
- `playground/utils/albumHelper.ts`: LQIP ë¡œë“œ ë° í†µí•©

**ì˜í–¥**:

- ì´ˆê¸° ë Œë”ë§ ëŒ€ê¸° ì‹œê°„: ~2000ms â†’ 0ms
- "Loading images..." í‘œì‹œ ì œê±°
- Luxury blur â†’ fade-in ì „í™˜ ì¶”ê°€

### 2. ë™ì  ì•„ì´í…œ í¬ê¸° ê¸°ëŠ¥ (Commit: 794ce94) â­

**ë³€ê²½ ì‚¬í•­**:

- Props: `itemSize` (ê³ ì •) â†’ `containerHeight` (ë™ì  ê¸°ì¤€)
- ì´ë¯¸ì§€ ë¹„ìœ¨ ìë™ ê°ì§€ ë° orientation ë¶„ë¥˜
- ë°©í–¥ë³„ ìµœì í™”ëœ í¬ê¸° ë¹„ìœ¨ (square: 0.6, portrait: 0.5, landscape: 0.7)
- ë™ì  ê°ë„ ê³„ì‚° (ì•„ì´í…œ ë„ˆë¹„ì— ë”°ë¼)

**ê²°ê³¼**:

- Zero Config êµ¬í˜„ (í¬ê¸° ì§€ì • ë¶ˆí•„ìš”)
- ìµœì í™”ëœ ë ˆì´ì•„ì›ƒ ìë™ ìƒì„±
- ì¼ê´€ëœ ë†’ì´ ìœ ì§€

### 3. Lightbox ì ‘ê·¼ì„± ê°œì„  (Commit: ad0d75c)

**ê°œì„  ì‚¬í•­**:

- Fallback alt text ì²˜ë¦¬ (`getReadableText`)
- ARIA label ìë™ ìƒì„± (`Image N of M: Title`)
- í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ ê´€ë¦¬ ê°•í™”
- ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› í–¥ìƒ

---

## ğŸ“Š í”„ë¡œì íŠ¸ í†µê³„

- **ì´ ì½”ë“œ ë¼ì¸**: 3,812ì¤„ (TypeScript/TSX)
- **ì»´í¬ë„ŒíŠ¸**: 10ê°œ (Carousel 3ê°œ, Lightbox 4ê°œ, UI 3ê°œ)
- **ì»¤ìŠ¤í…€ í›…**: 10ê°œ
- **ìœ í‹¸ë¦¬í‹° íŒŒì¼**: 9ê°œ
- **ìƒìˆ˜ íŒŒì¼**: 8ê°œ
- **íƒ€ì… ì •ì˜**: 20+ ì¸í„°í˜ì´ìŠ¤/íƒ€ì…
- **ì˜ˆì œ**: 4ê°œ (playground)
- **ì§€ì› ì•¨ë²”**: 9ê°œ (ê° 20ì¥, ì´ 180ì¥)
- **ë¬¸ì„œ**: 6ê°œ (README, API ê°€ì´ë“œ, ì„±ëŠ¥ ìµœì í™”, LQIP ë“±)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-10
**í˜„ì¬ ë²„ì „**: ìµœì‹  (Changesets ê¸°ë°˜ ìë™ ë²„ì „ ê´€ë¦¬)
**ìƒíƒœ**: Production Ready âœ…
